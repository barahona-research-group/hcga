
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hcga: Highly Comparative Graph Analysis &#8212; hcga 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The cli app" href="app.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="hcga-highly-comparative-graph-analysis">
<span id="contents"></span><h1><em>hcga</em>: Highly Comparative Graph Analysis<a class="headerlink" href="#hcga-highly-comparative-graph-analysis" title="Permalink to this headline">¶</a></h1>
<p>This is the official repository of <em>hcga</em>, a highly comparative graph analysis toolbox inspired by <em>hctsa</em>, the time series massive feature extraction framework of <a class="reference internal" href="#hctsa" id="id1"><span>[Hctsa]</span></a>. It performs a massive feature extraction from a set of graphs, and applies supervised classification methods. This code comes with the companion paper <a class="reference internal" href="#hcga" id="id2"><span>[Hcga]</span></a>  containing more details and examples applications.</p>
<p>Networks are widely used as mathematical models of complex systems across many scientific disciplines, not only in biology and medicine but also in the social sciences, physics, computing and engineering. Decades of work have produced a vast corpus of research characterising the topological, combinatorial, statistical and spectral properties of graphs. Each graph property can be thought of as a feature that captures important (and some times overlapping) characteristics of a network. In the analysis of real-world graphs, it is crucial to integrate systematically a large number of diverse graph features in order to characterise and classify networks, as well as to aid network-based scientific discovery. Here, we introduce <em>hcga</em>, a framework for highly comparative analysis of graph data sets that computes several thousands of graph features from any given network. <em>hcga</em> also offers a suite of statistical learning and data analysis tools for automated identification and selection of important and interpretable features underpinning the characterisation of graph data sets.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install the dev version from <a class="reference external" href="https://github.com/imperialcollegelondon/hcga/">GitHub</a> with the commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:barahona-research-group/hcga.git
$ cd hcga
$ pip install .
</pre></div>
</div>
<p>There is no PyPi release version yet, but stay tuned for more!</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><em>hcga</em> has three main steps:</p>
<ol class="arabic simple">
<li><p>create dataset of graphs</p></li>
<li><p>extract features from them</p></li>
<li><p>use the features for classification of other analysis</p></li>
</ol>
<div class="section" id="create-a-dataset">
<h3>1. Create a dataset<a class="headerlink" href="#create-a-dataset" title="Permalink to this headline">¶</a></h3>
<p>Benchmarks datasets from <a class="reference external" href="https://ls11-www.cs.tu-dortmund.de/people/morris/graphkerneldatasets">Graphkernel</a> can be loaded directly with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ hcga get_data DATASET
</pre></div>
</div>
<p><em>DATASET</em> can be one of:</p>
<ol class="arabic simple">
<li><p>ENZYMES</p></li>
<li><p>DD</p></li>
<li><p>COLLAB</p></li>
<li><p>PROTEINS</p></li>
<li><p>REDDIT-MULTI-12K</p></li>
</ol>
<p>To create custom dataset, one must load it in the <code class="docutils literal notranslate"><span class="pre">hcga.graph.GraphCollection</span></code> data structure as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">hcga.graph</span> <span class="kn">import</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">GraphCollection</span>
<span class="kn">from</span> <span class="nn">hcga.io</span> <span class="kn">import</span> <span class="n">save_dataset</span>

<span class="c1"># create edges dataframe with columns names (required)</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>  <span class="c1"># list of edges with node indices</span>
<span class="n">edges_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;start_node&#39;</span><span class="p">,</span> <span class="s1">&#39;end_node&#39;</span><span class="p">])</span>

<span class="c1"># create nodes dataframe</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">nodes_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">nodes</span><span class="p">)</span>

<span class="c1"># optional: node labels and attributes</span>
<span class="c1"># set labels, use one-hot vector (should be a list for each node)</span>
<span class="n">nodes_df</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="c1"># any list for each node (should be of the same length)</span>
<span class="n">nodes_df</span><span class="p">[</span><span class="s1">&#39;attributes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]]</span>

<span class="c1"># create graph colllection object</span>
<span class="n">graphs</span> <span class="o">=</span> <span class="n">GraphCollection</span><span class="p">()</span>

<span class="c1"># add new graph to the collection</span>
<span class="n">graph_label</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># graph_label should be an integer</span>
<span class="n">graphs</span><span class="o">.</span><span class="n">add_graph</span><span class="p">(</span><span class="n">Graph</span><span class="p">(</span><span class="n">nodes_df</span><span class="p">,</span> <span class="n">edges_df</span><span class="p">,</span> <span class="n">graph_label</span><span class="p">)</span>

<span class="c1"># save dataset to file &#39;./dataset.pkl&#39;</span>
<span class="n">save_dataset</span><span class="p">(</span><span class="n">graphs</span><span class="p">,</span> <span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="extract-features">
<h3>2. Extract features<a class="headerlink" href="#extract-features" title="Permalink to this headline">¶</a></h3>
<p>Once a dataset is created, features can be extracted using for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ hcga extract_features dataset.pkl --mode fast --timeout 10 --n-workers 4
</pre></div>
</div>
<p>we refer to the hcga app documentation for more details, but the options here mean:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--mode</span> <span class="pre">fast</span></code>: only extract simple features (other options include <code class="docutils literal notranslate"><span class="pre">medium/slow</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--timeout</span> <span class="pre">10</span></code>: stop features computation after 10 seconds (this prevents some features to get stuck)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--n-workers</span> <span class="pre">4</span></code>: set the number of workers in multiprocessing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--runtime</span></code>: this option runs a small set of graphs and ouput estimated times for each feature</p></li>
</ul>
</div>
<div class="section" id="classify-graphs">
<h3>3. Classify graphs<a class="headerlink" href="#classify-graphs" title="Permalink to this headline">¶</a></h3>
<p>Finally, to use the extracted features to classify graphs with respect to their labels, one use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ hcga feature_analysis dataset --interpretability 1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is the name of the dataset, and <code class="docutils literal notranslate"><span class="pre">--interpretability</span> <span class="pre">1</span></code> selects the features with all interpretabilities. Choices range from <code class="docutils literal notranslate"><span class="pre">1-5</span></code>, where <code class="docutils literal notranslate"><span class="pre">5</span></code> only uses most interpretable features.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>In the example folder, the script <code class="docutils literal notranslate"><span class="pre">run_example.sh</span></code> can be used to run the benchmark examples in the paper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">run_example</span><span class="o">.</span><span class="n">sh</span> <span class="n">DATASET</span>
</pre></div>
</div>
<p><em>DATASET</em> can be one of:</p>
<ol class="arabic simple">
<li><p>ENZYMES</p></li>
<li><p>DD</p></li>
<li><p>COLLAB</p></li>
<li><p>PROTEINS</p></li>
<li><p>REDDIT-MULTI-12K</p></li>
</ol>
<dl class="simple">
<dt>Other examples can be found as jupyter-notebooks in <cite>examples/</cite> directory. We have included six examples:</dt><dd><ol class="arabic simple">
<li><p>Example 1: Classification on synthetic data</p></li>
<li><p>Example 2: Regression on synthetic data</p></li>
<li><p>Example 3: Large Molecule dataset and regression</p></li>
<li><p>Example 4: Training on labelled data, saving the fitted model, and predicting on unseen unlabelled data.</p></li>
<li><p>Example 5: Pairwise classification. Exploring the similarity of classes.</p></li>
<li><p>Example 6: Loading data in different ways.</p></li>
<li><p>Example 7: Using different classifiers.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="citing">
<h2>Citing<a class="headerlink" href="#citing" title="Permalink to this headline">¶</a></h2>
<p>To cite <em>hcga</em>, please use <a class="reference internal" href="#hcga" id="id3"><span>[Hcga]</span></a>.</p>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>The code is released in its first version.</p>
</div>
<div class="section" id="contributors">
<h2>Contributors:<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Robert Peach, GitHub: <a class="reference external" href="https://github.com/peach-lucien">peach-lucien</a></p></li>
<li><p>Alexis Arnaudon, GitHub: <a class="reference external" href="https://github.com/arnaudon">arnaudon</a></p></li>
<li><p>Henry Palasciano, GitHub: <a class="reference external" href="https://github.com/henrypalasciano">henrypalasciano</a></p></li>
<li><p>Nathan Bernier, GitHub: <a class="reference external" href="https://github.com/nrbernier">nrbernier</a></p></li>
<li><p>Julia Schmidt, GitHub: <a class="reference external" href="https://github.com/misterblonde">misterblonde</a></p></li>
</ul>
<p>Any contributors are welcome, please contact us if interested.</p>
</div>
<div class="section" id="bibliography">
<h2>Bibliography<a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h2>
<dl class="citation">
<dt class="label" id="hcga"><span class="brackets">Hcga</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Robert L Peach, Alexis Arnaudon, Julia A Schmidt, Henry Palasciano, Nathan R Bernier, Kim Jelfs, Sophia Yaliraki, Mauricio Barahona, “hcga: Highly Comparative Graph Analysis for network phenotyping” bioRxiv 2020.09.25.312926; doi: <a class="reference external" href="https://doi.org/10.1101/2020.09.25.312926">https://doi.org/10.1101/2020.09.25.312926</a></p>
</dd>
<dt class="label" id="hctsa"><span class="brackets"><a class="fn-backref" href="#id1">Hctsa</a></span></dt>
<dd><p>B. D. Fulcher and N. S. Jones,
“hctsa:  A computational framework for automated time-series phenotyping using massive feature extraction,” Cell systems, vol. 5, no. 5, pp. 527–531, 2017</p>
</dd>
</dl>
</div>
<div class="section" id="api-documentation">
<h2>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>Documentation of the API of <em>hcga</em>.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.html">The cli app</a></li>
<li class="toctree-l1"><a class="reference internal" href="hcga.html">The hcga class</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">The graph data structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_class.html">The feature class module</a></li>
<li class="toctree-l1"><a class="reference internal" href="extraction.html">The extraction module</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">The analysis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="Features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Features/basic_stats.html">The basic statistics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/assortativity.html">The assortativity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/centrality.html">Centrality modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Features/centrality.html#module-hcga.features.centralities_basic">The basic centrality module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Features/chemical_theory.html">The chemical theory module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/cliques.html">Cliques modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Features/cliques.html#module-hcga.features.cliques">The cliques module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Features/clustering.html">The clustering module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/communities.html">Communities modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Features/communities.html#module-hcga.features.communities_modularity">The modularity communities module</a></li>
<li class="toctree-l3"><a class="reference internal" href="Features/communities.html#module-hcga.features.communities_asyn">The asyn fluid communities module</a></li>
<li class="toctree-l3"><a class="reference internal" href="Features/communities.html#module-hcga.features.communities_bisection">The bisection communities module</a></li>
<li class="toctree-l3"><a class="reference internal" href="Features/communities.html#module-hcga.features.communities_labelprop">The label propagation communities module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Features/components.html">Components modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Features/components.html#module-hcga.features.components">The components module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Features/core_number.html">The core_number module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/cycle_basis.html">The cycle basis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/distance_measures.html">The disttance measure module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/dominating_sets.html">The dominating sets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/efficiency.html">The efficiency module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/eulerian.html">The eulerian module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/efficiency.html">The efficiency module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/independent_sets.html">The independent sets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/k_components.html">The k-components module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/link_analysis_hits.html">The link analysis hits module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/maximal_matching.html">The maximal matching module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/minimum_cuts.html">The minimum cuts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/node_clique_number.html">The node clique numnber module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/node_connectivity.html">The node connectivity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/node_features.html">The node features module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/rich_club.html">The rich club module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/scale_free.html">The scale free module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/shortest_paths.html">The shortest paths module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/small_worldness.html">The small worldness module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/structural_holes.html">The structural holes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/spectrum.html">The spectrum module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Features/vitality.html">The vitality module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">hcga</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.html">The cli app</a></li>
<li class="toctree-l1"><a class="reference internal" href="hcga.html">The hcga class</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">The graph data structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_class.html">The feature class module</a></li>
<li class="toctree-l1"><a class="reference internal" href="extraction.html">The extraction module</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">The analysis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="Features.html">Features</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="app.html" title="next chapter">The cli app</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, R. Peach, H. Palasciano and A. Arnaudon,.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>